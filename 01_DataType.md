# Data Type

## 1. 기본형과 참조형의 종류 및 차이점

### 1) 종류

자바스크립트 데이터 타입은 크게 **기본형과 참조형**, 두 가지로 분류된다.

1. 기본형 (Primitive Type)
    - Number
    - String
    - Boolean
    - null
    - undefined
    - symbol(ES6+)
2. 참조형 (Reference Type)
    - Object
        - Array
        - Function
        - RegExp
        - Map(ES6+)
        - Set(ES6+)
        - WeakMap(ES6+)
        - WeakSet(ES6+)

### 2) 차이점

기본형은 값을 그대로 할당하고 참조형은 저장된 주소값을 할당한다.

#### 2-1) 기본형 데이터가 저장되는 과정

변수를 선언하면, 컴퓨터는 임의적으로 메모리의 특정 공간을 마련하고 선언된 변수의 이름과 해당 공간의 주소를 매칭시킨다.

변수에 값을 할당하면, 컴퓨터는 해당 변수명을 읽고 그 변수와 매칭 주소를 찾아 그 주소의 공간에 값을 저장한다.

#### 2-2) 참조형 데이터가 저장되는 과정

선언 과정은 기본형과 동일하다.

참조형은 key와 value로 묶인 쌍들로 이루어져 있다.

```js
let obj = {
    a: 1,
    b: 'b'
};

let obj2 = obj;

obj2.a = 10;
console.log(obj2.a); // 10
console.log(obj.a); // 10
```
참조형은 기본형 데이터의 집합이다.

우선 변수명 obj와 특정 공간의 주소(@410)를 매칭한다.(선언)

값 전체는 별도의 공간(@1011)에 저장한다. 그리고 각각의 프로퍼티들이 저장될 공간을 확보하고 그 공간의 주소를 프로퍼티 key와 매칭한다.(a: @1012, b:@1013)

각각 매칭된 주소에 프로퍼티 value를 저장한다. (@1012에 1, @1013에 "b")

변수명 obj 와 매칭된 주소와 값 전체가 저장된 주소를 매칭한다. 즉, obj가 가리키는 주소에는 값이 아닌 주소가 담겨 있다.(@413에 @1011)

따라서 obj2에 obj를 할당하면, obj2는 같은 주소를 가리킨다. (obj2는 @414라는 주소를 가리킨다면, @414에는 @1011이라는 주소가 담긴다.)

obj, obj2는 완전히 동일한 객체를 참조한다.

#### 2-3) nested 참조형 데이터

```js
let obj3 = {
    a: [4, 5, 6]
}

obj3.a = 10
```
obj3와 특정 공간의 주소(@410)이 매칭된다.

obj3의 값은 별도의 공간(@1011)에 저장되고, @410에는 @1011의 주소가 저장된다.

a는 별도의 공간의 주소(@1012)와 매칭된다.

각 배열의 값들도 별도의 공간에 저장된다(@2311, 2312, 2313);

위 상황에서 `obj3.a`에 기본형이 할당되면, a의 value인 배열의 값들은 주소를 잃어버리고(@1012에 기본형이 저장.) 언젠가 메모리 청소의 대상이 되어 사라진다.